<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Finanziario Internazionale - Protezione del Consumatore</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            background: #f8f9fa;
            padding: 10px;
            gap: 10px;
            justify-content: center;
        }

        .tab {
            padding: 12px 24px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .tab:hover {
            background: #e9ecef;
            transform: translateY(-2px);
        }

        .tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .content {
            padding: 40px;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .country-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .country-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border-left: 5px solid #667eea;
        }

        .country-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .country-card h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .protection-badge {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.7em;
            font-weight: bold;
            text-transform: uppercase;
        }

        .protection-high {
            background: #28a745;
            color: white;
        }

        .protection-medium {
            background: #ffc107;
            color: #333;
        }

        .protection-low {
            background: #dc3545;
            color: white;
        }

        .info-section {
            margin: 15px 0;
        }

        .info-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 5px;
            font-size: 0.9em;
        }

        .info-value {
            color: #333;
            line-height: 1.6;
        }

        .info-value a {
            color: #667eea;
            text-decoration: none;
            word-break: break-all;
        }

        .info-value a:hover {
            text-decoration: underline;
        }

        .ai-instructions {
            background: #e7f3ff;
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9em;
            border-left: 3px solid #2196F3;
        }

        .chart-container {
            margin: 40px 0;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .chart-wrapper {
            position: relative;
            height: 500px;
            margin-top: 20px;
        }

        .chart-title {
            font-size: 18px;
            font-weight: 700;
            color: #1e3c72;
            margin-bottom: 20px;
            text-align: center;
        }

        .eu-section {
            background: linear-gradient(135deg, #003399 0%, #0066cc 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .eu-section h2 {
            margin-bottom: 20px;
            font-size: 2em;
        }

        .eu-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .eu-link {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            transition: all 0.3s;
        }

        .eu-link:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(5px);
        }

        .eu-link a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }

        footer {
            background: #1e3c72;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .country-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .chart-wrapper {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåç Database Finanziario Internazionale - Protezione del Consumatore</h1>
            <p class="subtitle">Autorit√† di Vigilanza e Protezione Consumatori nel Mondo</p>
        </header>

        <div class="tabs">
            <div class="tab active" onclick="showTab('all')">Tutti i Paesi</div>
            <div class="tab" onclick="showTab('europa')">Europa</div>
            <div class="tab" onclick="showTab('asia')">Asia</div>
            <div class="tab" onclick="showTab('america-latina')">America Latina</div>
            <div class="tab" onclick="showTab('nord-america')">Nord America</div>
            <div class="tab" onclick="showTab('oceania')">Oceania</div>
            <div class="tab" onclick="showTab('africa')">Africa</div>
            <div class="tab" onclick="showTab('medio-oriente')">Medio Oriente</div>
        </div>

        <div class="content">
            <div id="all" class="tab-content active">
                <!-- Chart Section -->
                <div class="chart-container">
                    <h2 class="chart-title">Livelli di Protezione del Consumatore - Paesi A-L</h2>
                    <div class="chart-wrapper">
                        <canvas id="protectionChart1"></canvas>
                    </div>
                </div>

                <div class="chart-container">
                    <h2 class="chart-title">Livelli di Protezione del Consumatore - Paesi M-Z</h2>
                    <div class="chart-wrapper">
                        <canvas id="protectionChart2"></canvas>
                    </div>
                </div>

                <!-- EU Section -->
                <div class="eu-section">
                    <h2>üá™üá∫ Unione Europea - ESMA</h2>
                    <p>L'Autorit√† europea degli strumenti finanziari e dei mercati (ESMA) √® un'autorit√† indipendente dell'UE che contribuisce a salvaguardare la stabilit√† del sistema finanziario dell'Unione europea.</p>
                    <div class="eu-links">
                        <div class="eu-link">
                            <a href="https://www.esma.europa.eu" target="_blank">üèõÔ∏è ESMA Homepage</a>
                        </div>
                        <div class="eu-link">
                            <a href="https://www.esma.europa.eu/investor-protection" target="_blank">üõ°Ô∏è Protezione Investitori</a>
                        </div>
                        <div class="eu-link">
                            <a href="https://www.esma.europa.eu/press-news/esma-news/esma-warns-consumers-risks-in-buying-virtual-currencies" target="_blank">‚ö†Ô∏è Avvisi ai Consumatori</a>
                        </div>
                        <div class="eu-link">
                            <a href="https://registers.esma.europa.eu/publication" target="_blank">üìã Registri e Database</a>
                        </div>
                    </div>
                </div>

                <div id="all-countries" class="country-grid"></div>
            </div>

            <div id="europa" class="tab-content">
                <div id="europa-countries" class="country-grid"></div>
            </div>

            <div id="asia" class="tab-content">
                <div id="asia-countries" class="country-grid"></div>
            </div>

            <div id="america-latina" class="tab-content">
                <div id="america-latina-countries" class="country-grid"></div>
            </div>

            <div id="nord-america" class="tab-content">
                <div id="nord-america-countries" class="country-grid"></div>
            </div>

            <div id="oceania" class="tab-content">
                <div id="oceania-countries" class="country-grid"></div>
            </div>

            <div id="africa" class="tab-content">
                <div id="africa-countries" class="country-grid"></div>
            </div>

            <div id="medio-oriente" class="tab-content">
                <div id="medio-oriente-countries" class="country-grid"></div>
            </div>
        </div>

        <footer>
            <p>&copy; 2025 Database Finanziario Internazionale. Tutti i diritti riservati.</p>
            <p>Ultimo aggiornamento: Dicembre 2025</p>
        </footer>
    </div>

    <script>
        const countries = [
            {
                name: "Arabia Saudita",
                region: "Medio Oriente",
                protection: "medium",
                authorityHomepage: "https://cma.org.sa",
                fraudLink: "https://cma.org.sa/en/RulesRegulations/Pages/default.aspx",
                authorityEmail: "info@cma.org.sa",
                aiInstructions: "Per segnalare frodi finanziarie in Arabia Saudita, contattare la Capital Market Authority (CMA). Utilizzare il modulo online o l'email ufficiale."
            },
            {
                name: "Argentina",
                region: "America Latina",
                protection: "medium",
                authorityHomepage: "https://www.argentina.gob.ar/cnv",
                fraudLink: "https://www.argentina.gob.ar/cnv/atencion-al-inversor",
                authorityEmail: "consultas@cnv.gob.ar",
                aiInstructions: "La Comisi√≥n Nacional de Valores (CNV) gestisce le segnalazioni di frodi finanziarie in Argentina. Compilare il modulo di reclamo online o contattare via email."
            },
            {
                name: "Australia",
                region: "Oceania",
                protection: "high",
                authorityHomepage: "https://www.asic.gov.au",
                fraudLink: "https://www.scamwatch.gov.au",
                authorityEmail: "info.asic@asic.gov.au",
                aiInstructions: "Per segnalare frodi finanziarie in Australia, utilizzare il portale ScamWatch o contattare ASIC. √à possibile anche chiamare il numero verde 1300 300 630."
            },
            {
                name: "Austria",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.fma.gv.at",
                fraudLink: "https://www.fma.gv.at/en/consumer-information/warnings/",
                authorityEmail: "fma@fma.gv.at",
                aiInstructions: "La Financial Market Authority (FMA) austriaca gestisce le segnalazioni di frodi. Utilizzare il modulo online o contattare via email."
            },
            {
                name: "Belgio",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.fsma.be",
                fraudLink: "https://www.fsma.be/en/warnings",
                authorityEmail: "info@fsma.be",
                aiInstructions: "Per segnalare frodi finanziarie in Belgio, contattare la FSMA attraverso il portale online o via email. Disponibile anche un numero verde."
            },
            {
                name: "Brasile",
                region: "America Latina",
                protection: "medium",
                authorityHomepage: "https://www.gov.br/cvm",
                fraudLink: "https://www.gov.br/cvm/pt-br/canais_atendimento",
                authorityEmail: "cvm@cvm.gov.br",
                aiInstructions: "La Comiss√£o de Valores Mobili√°rios (CVM) gestisce le frodi finanziarie in Brasile. Utilizzare il sistema di reclami online o contattare via email."
            },
            {
                name: "Canada",
                region: "Nord America",
                protection: "high",
                authorityHomepage: "https://www.osc.ca",
                fraudLink: "https://www.antifraudcentre-centreantifraude.ca",
                authorityEmail: "inquiries@osc.gov.on.ca",
                aiInstructions: "Per segnalare frodi finanziarie in Canada, contattare il Canadian Anti-Fraud Centre o la Ontario Securities Commission. Disponibile numero verde 1-888-495-8501."
            },
            {
                name: "Cile",
                region: "America Latina",
                protection: "medium",
                authorityHomepage: "https://www.cmfchile.cl",
                fraudLink: "https://www.cmfchile.cl/portal/principal/613/w3-propertyvalue-26076.html",
                authorityEmail: "consultas@cmfchile.cl",
                aiInstructions: "La Comisi√≥n para el Mercado Financiero (CMF) del Cile gestisce le segnalazioni di frodi. Utilizzare il portale online o l'email ufficiale."
            },
            {
                name: "Cipro",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.cysec.gov.cy",
                fraudLink: "https://www.cysec.gov.cy/en-GB/complaints/",
                authorityEmail: "info@cysec.gov.cy",
                aiInstructions: "Per segnalare frodi finanziarie a Cipro, contattare CySEC attraverso il modulo online o via email. Disponibile anche numero di telefono +357 22506600."
            },
            {
                name: "Costa Rica",
                region: "America Latina",
                protection: "low",
                authorityHomepage: "https://www.sugeval.fi.cr",
                fraudLink: "https://www.sugeval.fi.cr/servicios/consultas-y-denuncias",
                authorityEmail: "info@sugeval.fi.cr",
                aiInstructions: "La Superintendencia General de Valores (SUGEVAL) gestisce le denunce in Costa Rica. Compilare il modulo online o contattare via email."
            },
            {
                name: "Danimarca",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.dfsa.dk",
                fraudLink: "https://www.dfsa.dk/Reporting",
                authorityEmail: "dfsa@dfsa.dk",
                aiInstructions: "Per segnalare frodi finanziarie in Danimarca, contattare la Danish FSA attraverso il sistema di reporting online o via email."
            },
            {
                name: "Estonia",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.fi.ee",
                fraudLink: "https://www.fi.ee/en/financial-supervision/reporting-misconduct",
                authorityEmail: "info@fi.ee",
                aiInstructions: "La Financial Supervision Authority estone gestisce le segnalazioni di frodi. Utilizzare il portale online o contattare via email."
            },
            {
                name: "Etiopia",
                region: "Africa",
                protection: "low",
                authorityHomepage: "https://www.nbe.gov.et",
                fraudLink: "https://www.nbe.gov.et/complaints/",
                authorityEmail: "info@nbe.gov.et",
                aiInstructions: "Per segnalare frodi finanziarie in Etiopia, contattare la National Bank of Ethiopia. Le procedure possono variare, si consiglia di verificare sul sito ufficiale."
            },
            {
                name: "Filippine",
                region: "Asia",
                protection: "medium",
                authorityHomepage: "https://www.sec.gov.ph",
                fraudLink: "https://www.sec.gov.ph/enforcement-and-investor-protection/",
                authorityEmail: "sec@sec.gov.ph",
                aiInstructions: "La Securities and Exchange Commission delle Filippine gestisce le frodi finanziarie. Utilizzare il modulo di reclamo online o contattare via email."
            },
            {
                name: "Francia",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.amf-france.org",
                fraudLink: "https://www.amf-france.org/en/consumer-corner/fraud-and-scams",
                authorityEmail: "contact@amf-france.org",
                aiInstructions: "Per segnalare frodi finanziarie in Francia, contattare l'AMF attraverso il portale online o chiamare il numero verde 0800 945 759."
            },
            {
                name: "Germania",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.bafin.de",
                fraudLink: "https://www.bafin.de/EN/Verbraucher/Anlegen/Warnungen/warnungen_node_en.html",
                authorityEmail: "poststelle@bafin.de",
                aiInstructions: "Per segnalare frodi finanziarie in Germania, contattare BaFin attraverso il modulo online o via email. Disponibile anche numero +49 228 4108-0."
            },
            {
                name: "Giappone",
                region: "Asia",
                protection: "high",
                authorityHomepage: "https://www.fsa.go.jp/en/",
                fraudLink: "https://www.fsa.go.jp/en/policy/consumer_alert/index.html",
                authorityEmail: "webmaster@fsa.go.jp",
                aiInstructions: "La Financial Services Agency giapponese gestisce le segnalazioni di frodi. Utilizzare il portale online o contattare via email in inglese o giapponese."
            },
            {
                name: "Gibilterra",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.gfsc.gi",
                fraudLink: "https://www.gfsc.gi/complaints",
                authorityEmail: "info@gfsc.gi",
                aiInstructions: "Per segnalare frodi finanziarie a Gibilterra, contattare la GFSC attraverso il modulo di reclamo online o via email."
            },
            {
                name: "Hong Kong",
                region: "Asia",
                protection: "high",
                authorityHomepage: "https://www.sfc.hk",
                fraudLink: "https://www.sfc.hk/en/Complaint-and-fraud-reporting",
                authorityEmail: "enquiry@sfc.hk",
                aiInstructions: "Per segnalare frodi finanziarie a Hong Kong, contattare la SFC attraverso il portale online o chiamare la hotline +852 2231 1222."
            },
            {
                name: "India",
                region: "Asia",
                protection: "medium",
                authorityHomepage: "https://www.sebi.gov.in",
                fraudLink: "https://scores.sebi.gov.in",
                authorityEmail: "sebi@sebi.gov.in",
                aiInstructions: "La SEBI indiana gestisce le frodi attraverso il sistema SCORES. Registrarsi sul portale per presentare reclami online o contattare via email."
            },
            {
                name: "Italia",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.consob.it",
                fraudLink: "https://www.consob.it/web/area-pubblica/avvisi",
                authorityEmail: "consob@consob.it",
                aiInstructions: "Per segnalare frodi finanziarie in Italia, contattare CONSOB attraverso il portale online o via email. Disponibile anche numero verde 800 103 399."
            },
            {
                name: "Liechtenstein",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.fma-li.li",
                fraudLink: "https://www.fma-li.li/en/supervision/complaints.html",
                authorityEmail: "info@fma-li.li",
                aiInstructions: "Per segnalare frodi finanziarie in Liechtenstein, contattare la FMA attraverso il modulo online o via email."
            },
            {
                name: "Lituania",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.lb.lt/en/",
                fraudLink: "https://www.lb.lt/en/sfi-complaints-against-financial-market-participants",
                authorityEmail: "info@lb.lt",
                aiInstructions: "Per segnalare frodi finanziarie in Lituania, contattare la Bank of Lithuania attraverso il sistema di reclami online o via email."
            },
            {
                name: "Lussemburgo",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.cssf.lu",
                fraudLink: "https://www.cssf.lu/en/consumer/complaints/",
                authorityEmail: "direction@cssf.lu",
                aiInstructions: "Per segnalare frodi finanziarie in Lussemburgo, contattare la CSSF attraverso il modulo di reclamo online o via email."
            },
            {
                name: "Malta",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.mfsa.mt",
                fraudLink: "https://www.mfsa.mt/consumer-questions-complaints/",
                authorityEmail: "info@mfsa.mt",
                aiInstructions: "Per segnalare frodi finanziarie a Malta, contattare la MFSA attraverso il Consumer Complaints System o via email."
            },
            {
                name: "Nigeria",
                region: "Africa",
                protection: "low",
                authorityHomepage: "https://www.sec.gov.ng",
                fraudLink: "https://sec.gov.ng/complaints-management/",
                authorityEmail: "sec@sec.gov.ng",
                aiInstructions: "Per segnalare frodi finanziarie in Nigeria, contattare la SEC attraverso il portale di gestione reclami o via email."
            },
            {
                name: "Olanda",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.afm.nl",
                fraudLink: "https://www.afm.nl/en/consumenten/waarschuwingen",
                authorityEmail: "consumenten@afm.nl",
                aiInstructions: "Per segnalare frodi finanziarie in Olanda, contattare l'AFM attraverso il modulo online o chiamare il numero +31 20 797 2000."
            },
            {
                name: "Portogallo",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.cmvm.pt",
                fraudLink: "https://www.cmvm.pt/en/Paginas/homepage.aspx",
                authorityEmail: "cmvm@cmvm.pt",
                aiInstructions: "Per segnalare frodi finanziarie in Portogallo, contattare la CMVM attraverso il portale online o via email."
            },
            {
                name: "Repubblica Ceca",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.cnb.cz/en/",
                fraudLink: "https://www.cnb.cz/en/supervision-financial-market/consumer-protection/",
                authorityEmail: "podatelna@cnb.cz",
                aiInstructions: "Per segnalare frodi finanziarie nella Repubblica Ceca, contattare la Czech National Bank attraverso il sistema di reclami o via email."
            },
            {
                name: "Singapore",
                region: "Asia",
                protection: "high",
                authorityHomepage: "https://www.mas.gov.sg",
                fraudLink: "https://www.mas.gov.sg/investor-alert-list",
                authorityEmail: "webmaster@mas.gov.sg",
                aiInstructions: "Per segnalare frodi finanziarie a Singapore, contattare la MAS attraverso il portale online o chiamare il numero +65 6225 5577."
            },
            {
                name: "Spagna",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.cnmv.es",
                fraudLink: "https://www.cnmv.es/Portal/AlDia/Alerta.aspx",
                authorityEmail: "cnmv@cnmv.es",
                aiInstructions: "Per segnalare frodi finanziarie in Spagna, contattare la CNMV attraverso il servizio di attenzione agli investitori o chiamare il numero 900 535 015."
            },
            {
                name: "Sudafrica",
                region: "Africa",
                protection: "medium",
                authorityHomepage: "https://www.fsca.co.za",
                fraudLink: "https://www.fsca.co.za/Complaints/Pages/default.aspx",
                authorityEmail: "info@fsca.co.za",
                aiInstructions: "Per segnalare frodi finanziarie in Sudafrica, contattare la FSCA attraverso il sistema di reclami online o via email."
            },
            {
                name: "Svezia",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.fi.se",
                fraudLink: "https://www.fi.se/en/published/warnings/",
                authorityEmail: "finansinspektionen@fi.se",
                aiInstructions: "Per segnalare frodi finanziarie in Svezia, contattare la Finansinspektionen attraverso il modulo online o chiamare il numero +46 8 787 80 00."
            },
            {
                name: "Ungheria",
                region: "Europa",
                protection: "high",
                authorityHomepage: "https://www.mnb.hu/en",
                fraudLink: "https://www.mnb.hu/en/consumer-protection",
                authorityEmail: "info@mnb.hu",
                aiInstructions: "Per segnalare frodi finanziarie in Ungheria, contattare la Magyar Nemzeti Bank attraverso il servizio di protezione consumatori o via email."
            }
        ];

        function showTab(tabName) {
            // Hide all tab contents
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        function createCountryCard(country) {
            const protectionClass = `protection-${country.protection}`;
            const protectionText = country.protection === 'high' ? 'Alta' : 
                                   country.protection === 'medium' ? 'Media' : 'Bassa';

            return `
                <div class="country-card">
                    <h3>
                        ${country.name}
                        <span class="protection-badge ${protectionClass}">${protectionText}</span>
                    </h3>
                    <div class="info-section">
                        <div class="info-label">Regione:</div>
                        <div class="info-value">${country.region}</div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Autorit√† di Vigilanza:</div>
                        <div class="info-value"><a href="${country.authorityHomepage}" target="_blank">${country.authorityHomepage}</a></div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Segnalazione Frodi:</div>
                        <div class="info-value"><a href="${country.fraudLink}" target="_blank">${country.fraudLink}</a></div>
                    </div>
                    <div class="info-section">
                        <div class="info-label">Email Ufficiale:</div>
                        <div class="info-value"><a href="mailto:${country.authorityEmail}">${country.authorityEmail}</a></div>
                    </div>
                    <div class="ai-instructions">
                        <strong>üìã Istruzioni:</strong> ${country.aiInstructions}
                    </div>
                </div>
            `;
        }

        function renderCountries() {
            // Render all countries
            const allCountriesContainer = document.getElementById('all-countries');
            allCountriesContainer.innerHTML = countries.map(createCountryCard).join('');

            // Render by region
            const regions = ['europa', 'asia', 'america-latina', 'nord-america', 'oceania', 'africa', 'medio-oriente'];
            const regionMap = {
                'europa': 'Europa',
                'asia': 'Asia',
                'america-latina': 'America Latina',
                'nord-america': 'Nord America',
                'oceania': 'Oceania',
                'africa': 'Africa',
                'medio-oriente': 'Medio Oriente'
            };

            regions.forEach(region => {
                const regionCountries = countries.filter(c => c.region === regionMap[region]);
                const container = document.getElementById(`${region}-countries`);
                if (container) {
                    container.innerHTML = regionCountries.map(createCountryCard).join('');
                }
            });
        }

        function createCharts() {
            // Sort countries alphabetically
            const sortedCountries = [...countries].sort((a, b) => a.name.localeCompare(b.name));
            
            // Split into two groups: A-L and M-Z
            const group1 = sortedCountries.filter(c => c.name.charAt(0) <= 'L');
            const group2 = sortedCountries.filter(c => c.name.charAt(0) > 'L');

            // Function to create chart data
            function prepareChartData(countriesArray) {
                return {
                    labels: countriesArray.map(c => c.name),
                    datasets: [{
                        label: 'Livello di Protezione',
                        data: countriesArray.map(c => {
                            switch(c.protection) {
                                case 'high': return 3;
                                case 'medium': return 2;
                                case 'low': return 1;
                                default: return 0;
                            }
                        }),
                        backgroundColor: countriesArray.map(c => {
                            switch(c.protection) {
                                case 'high': return '#28a745';
                                case 'medium': return '#ffc107';
                                case 'low': return '#dc3545';
                                default: return '#6c757d';
                            }
                        }),
                        borderColor: countriesArray.map(c => {
                            switch(c.protection) {
                                case 'high': return '#1e7e34';
                                case 'medium': return '#d39e00';
                                case 'low': return '#bd2130';
                                default: return '#545b62';
                            }
                        }),
                        borderWidth: 2
                    }]
                };
            }

            // Chart configuration
            const chartConfig = {
                type: 'bar',
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const value = context.raw;
                                    const labels = {3: 'Alta', 2: 'Media', 1: 'Bassa'};
                                    return 'Protezione: ' + labels[value];
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 3,
                            ticks: {
                                stepSize: 1,
                                callback: function(value) {
                                    const labels = {3: 'Alta', 2: 'Media', 1: 'Bassa', 0: ''};
                                    return labels[value] || '';
                                },
                                font: {
                                    size: 12,
                                    weight: 'bold'
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                maxRotation: 45,
                                minRotation: 45,
                                font: {
                                    size: 11,
                                    weight: '600'
                                }
                            },
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            };

            // Create Chart 1 (A-L)
            const ctx1 = document.getElementById('protectionChart1').getContext('2d');
            new Chart(ctx1, {
                ...chartConfig,
                data: prepareChartData(group1)
            });

            // Create Chart 2 (M-Z)
            const ctx2 = document.getElementById('protectionChart2').getContext('2d');
            new Chart(ctx2, {
                ...chartConfig,
                data: prepareChartData(group2)
            });
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            renderCountries();
            createCharts();
        });
    </script>
</body>
</html>